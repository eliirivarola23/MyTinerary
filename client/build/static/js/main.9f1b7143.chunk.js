(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(21),c=a.n(n),s=(a(58),a(6)),i=a(11),o=a(3),l=a.n(o),u=a(8),d=a(4),j=a(15),b=a.n(j),p={registrarUsuario:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(a,r){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.post("http://localhost:4000/api/usuarios",Object(u.a)({},e));case 2:return n=t.sent,a({type:"USUARIO",payload:n.data.respuesta}),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},ingresarCuenta:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(a,r){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.post("http://localhost:4000/api/usuario/ingresar",Object(u.a)({},e));case 2:return n=t.sent,a({type:"USUARIO",payload:n.data.respuesta}),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},salir:function(){return function(e,t){e({type:"CERRAR SESION"})}},ingresarLocalStorage:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(a,r){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.get("http://localhost:4000/api/verificarToken",{headers:{Authorization:"Bearer "+e}});case 3:n=t.sent,a({type:"USUARIO",payload:{token:e,nombre:n.data.nombre,url_foto:n.data.url_foto,_id:n.data._id,apellido:n.data.apellido}}),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",a({type:"CERRAR SESION"}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()},traerUsuario:function(e){return Object(d.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.get("http://localhost:4000/api/usuario/".concat(e));case 3:return a=t.sent,t.abrupt("return",a);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))}},m=a(0),h={salir:p.salir},O=Object(i.b)((function(e){return{nombre:e.usuarios.nombre,token:e.usuarios.token,foto:e.usuarios.url_foto}}),h)((function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("nav",{className:"navbar navbar-expand-sm  p-0",children:Object(m.jsxs)("div",{className:"container-fluid",children:[Object(m.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(m.jsx)("img",{className:"navbar-toggler-icon  user2",src:"/assets/logo.png",alt:"logo-user",width:"20px"})}),Object(m.jsx)("div",{className:"navbar-collapse",id:"navbarNavDropdown",children:Object(m.jsxs)("ul",{className:"navbar-nav",children:[Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(s.b,{to:"/",children:Object(m.jsx)("img",{className:"logo",src:"/assets/logo.png",alt:"imagenLogo"})})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(s.c,{exact:!0,to:"/",className:"nav-link",children:"HOME"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(s.c,{to:"/cities",className:"nav-link",children:"CITIES"})}),Object(m.jsxs)("li",{className:"nav-item dropdown",children:[e.token?Object(m.jsx)("p",{className:"nav-link dropdown-toggle",id:"navbarDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(m.jsx)("img",{className:"user2",src:e.foto,alt:"logo-user"})}):Object(m.jsx)("p",{className:"nav-link dropdown-toggle",id:"navbarDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(m.jsx)("img",{className:"user",src:"/assets/user.png",alt:"logo-user"})}),e.token?Object(m.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",children:[Object(m.jsx)("li",{className:"nav-link",children:e.token&&Object(m.jsxs)("p",{className:"dropdown-item",children:["Welcome ",e.nombre]})}),Object(m.jsx)("li",{children:Object(m.jsx)("p",{className:"p dropdown-item",onClick:function(){return e.salir()},children:"Log Out"})})]}):Object(m.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",children:[Object(m.jsx)("li",{children:Object(m.jsx)(s.b,{to:"signIn",className:"dropdown-item",children:"SIGN IN"})}),Object(m.jsx)("li",{children:Object(m.jsx)(s.b,{to:"signUp",className:"dropdown-item",children:"SIGN UP"})})]})]})]})})]})})})})),x=function(){return Object(m.jsxs)("header",{children:[Object(m.jsx)(O,{}),Object(m.jsxs)("div",{className:"title",children:[Object(m.jsx)("h3",{children:"\u79c1 \u306e \u65c5 \u7a0b"}),Object(m.jsx)("h1",{children:"M Y T I N E R A R Y"}),Object(m.jsx)("h2",{children:"FIND YOUR PERFECT TRIP, DESIGNED BY INSIDERS WHO KNOW AND LOVE THEIR CITIES"}),Object(m.jsx)(s.b,{className:"hero",to:"/cities",children:Object(m.jsx)("p",{children:"CLICK HERE"})})]})]})},f=a(7),g=a(50),v=a(102),N=a(103),y=a(104),k=[{ciudades:[{imagen:"tokio.jpg",caption:"Tokyo"},{imagen:"kioto.jpg",caption:"Kyoto"},{imagen:"Kamakura.jpg",caption:"Kamakura"},{imagen:"fukuka.jpg",caption:"Fukuka"}]},{ciudades:[{imagen:"nagasaki.jpg",caption:"Nagasaki"},{imagen:"sapporo.jpg",caption:"Sapporo"},{imagen:"osaka.jpg",caption:"Osaka"},{imagen:"itsukushima.jpg",caption:"Itsukushima"}]},{ciudades:[{imagen:"Hakone.jpg",caption:"Hakone"},{imagen:"Matsumoto.jpg",caption:"Matsumoto"},{imagen:"osaka.jpg",caption:"Tokyo"},{imagen:"Okinawa.jpg",caption:"Okinawa"}]}],w=function(e){var t=Object(r.useState)(0),a=Object(f.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(!1),i=Object(f.a)(s,2),o=i[0],l=i[1],u=function(){if(!o){var e=n===k.length-1?0:n+1;c(e)}},d=function(){if(!o){var e=0===n?k.length-1:n-1;c(e)}},j=k.map((function(e,t){return Object(m.jsx)(g.a,{onExiting:function(){return l(!0)},onExited:function(){return l(!1)},children:Object(m.jsx)("div",{className:"cajaFotos",children:e.ciudades.map((function(e){return Object(m.jsx)("div",{className:"foto",style:{backgroundImage:'url("/assets/galeria/'.concat(e.imagen,'")')},children:Object(m.jsx)("p",{className:"ciudades",children:e.caption})},e.caption)}))})},t)}));return Object(m.jsxs)(v.a,{activeIndex:n,next:u,previous:d,children:[Object(m.jsx)(N.a,{items:j,activeIndex:n,onClickHandler:function(e){o||c(e)}}),j,Object(m.jsx)(y.a,{directionText:" ",direction:"prev",onClickHandler:d}),Object(m.jsx)(y.a,{direction:"next",directionText:" ",onClickHandler:u})]})},C=function(){return Object(m.jsxs)("main",{className:"main",children:[Object(m.jsx)("h2",{children:"POPULAR MYTINERARIES"}),Object(m.jsx)(w,{})]})},I=function(){return Object(m.jsx)("footer",{className:"footer",children:Object(m.jsxs)("div",{className:"nav-footer",children:[Object(m.jsxs)("nav",{children:[Object(m.jsx)(s.b,{to:"/",children:Object(m.jsx)("p",{children:"HOME"})}),Object(m.jsx)(s.b,{to:"/cities",children:Object(m.jsx)("p",{children:"CITIES"})}),Object(m.jsx)(s.b,{to:"/notFound",children:Object(m.jsx)("p",{children:"ABOUT"})}),Object(m.jsx)(s.b,{to:"/notFound",children:Object(m.jsx)("p",{children:"SIGN UP"})})]}),Object(m.jsx)("p",{children:"MyTinerary Project 2021 \xa9 All Rights Reserved"}),Object(m.jsxs)("div",{className:"redesSociales",children:[Object(m.jsx)(s.b,{to:"/",children:Object(m.jsx)("img",{className:"logoRedes",src:"/assets/facebook.png",alt:"imagenRedes"})}),Object(m.jsx)(s.b,{to:"/",children:Object(m.jsx)("img",{className:"logoRedes",src:"/assets/instagram.png",alt:"imagenRedes"})}),Object(m.jsx)(s.b,{to:"/",children:Object(m.jsx)("img",{className:"logoRedes",src:"/assets/twitter.png",alt:"imagenRedes"})})]})]})})},S=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("section",{className:"main2",children:[Object(m.jsx)("h2",{children:"The application that gives you all the information about your trip in just one place: travel itineraries, information about activities and services so that you arrive at your destination 100% prepared."}),Object(m.jsxs)("div",{className:"information",children:[Object(m.jsx)("div",{style:{backgroundImage:'url("/assets/info.png")'}}),Object(m.jsx)("div",{style:{backgroundImage:'url("/assets/info2.png")'}}),Object(m.jsx)("div",{style:{backgroundImage:'url("/assets/info3.png")'}})]})]})})},E=function(){return Object(m.jsxs)("div",{className:"home",style:{backgroundImage:'url("/assets/Proyecto2.png")'},children:[Object(m.jsx)(x,{}),Object(m.jsx)(S,{}),Object(m.jsx)(C,{}),Object(m.jsx)(I,{})]})},T=a(12),A=a.n(T),R={obtenerCiudades:function(){return function(){var e=Object(d.a)(l.a.mark((function e(t,a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("http://localhost:4000/api/cities");case 2:r=e.sent,t({type:"OBTENER_CIUDADES",payload:r.data.respuesta});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},ciudadAFiltrar:function(e){return function(t,a){t({type:"FILTRAR_CIUDADES",payload:e})}}},_=function(){return Object(m.jsx)("div",{className:"preloader",children:Object(m.jsxs)("div",{className:"wrapper",children:[Object(m.jsx)("div",{className:"circle"}),Object(m.jsx)("div",{className:"circle"}),Object(m.jsx)("div",{className:"circle"}),Object(m.jsx)("div",{className:"shadow"}),Object(m.jsx)("div",{className:"shadow"}),Object(m.jsx)("div",{className:"shadow"})]})})},B=function(e){var t=e.ciudad;return Object(m.jsx)("section",{className:"seccion-galeria",children:Object(m.jsx)("div",{className:"galeria",style:{backgroundImage:'url("'.concat(t.imagen,'")')},children:Object(m.jsx)(s.b,{to:"/city/".concat(t._id),children:Object(m.jsxs)("div",{className:"cajaDescripcion",children:[Object(m.jsx)("h2",{children:t.caption}),Object(m.jsxs)("p",{className:"descripcion",children:[" ",t.descripcion]})]})})},t.caption)})},F={fetchearCiudades:R.obtenerCiudades,filtroCiudades:R.ciudadAFiltrar},L=Object(i.b)((function(e){return{ciudadesFiltradas:e.todasCiudades.ciudadFiltrada}}),F)((function(e){var t=Object(r.useState)(!0),a=Object(f.a)(t,2),n=a[0],c=a[1];if(Object(r.useEffect)((function(){function t(){return(t=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.fetchearCiudades();case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),A.a.fire({icon:"error",title:"Oops...",text:"We have a problem. Try later"}),e.history.push("/");case 9:return t.prev=9,c(!n),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,5,9,12]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),n)return Object(m.jsx)(_,{});var s=e.ciudadesFiltradas.map((function(e){return Object(m.jsx)(B,{ciudad:e},e._id)})),i=Object(m.jsxs)("div",{className:"ciudadNoEncontrada",children:[Object(m.jsx)("img",{src:"/assets/jap.png",alt:"logo"}),Object(m.jsx)("h2",{children:"Oops! There are no matches with your search. Try another city"})]}),o=s.length?s:i;return Object(m.jsxs)("div",{className:"home",style:{backgroundImage:'url("https://i.postimg.cc/htFzFLNt/itsukushima.jpg ")'},children:[Object(m.jsx)(O,{}),Object(m.jsxs)("section",{children:[Object(m.jsxs)("div",{className:"cities",children:[Object(m.jsx)("h2",{children:"Find your next adventure"}),Object(m.jsx)("input",{onChange:function(t){return e.filtroCiudades(t.target.value.toLowerCase().trim())},className:"buscador",type:"text",name:"nombre",placeholder:"Search City"})]}),Object(m.jsx)("div",{className:"cajaGaleria",children:o})]}),Object(m.jsx)(I,{})]})})),U=a(9),D=a(52),M={obtenerActividades:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(a,r){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.get("http://localhost:4000/api/actividades/".concat(e));case 3:return n=t.sent,t.abrupt("return",n.data.respuesta);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()}},P=function(e){var t=Object(r.useState)(0),a=Object(f.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(!1),i=Object(f.a)(s,2),o=i[0],l=i[1],u=function(){if(!o){var t=n===e.actividades[0].actividades.length-1?0:n+1;c(t)}},d=function(){if(!o){var t=0===n?e.actividades[0].actividades.length-1:n-1;c(t)}},j=e.actividades[0].actividades.map((function(e,t){return Object(m.jsx)(g.a,{onExiting:function(){return l(!0)},onExited:function(){return l(!1)},children:Object(m.jsx)("div",{className:"foto2",style:{backgroundImage:'url("'.concat(e.foto,'")')}},e.caption)},t)}));return Object(m.jsxs)(v.a,{activeIndex:n,next:u,previous:d,children:[Object(m.jsx)(N.a,{items:j,activeIndex:n,onClickHandler:function(e){o||c(e)}}),j,Object(m.jsx)(y.a,{directionText:" ",direction:"prev",onClickHandler:d}),Object(m.jsx)(y.a,{direction:"next",directionText:" ",onClickHandler:u})]})},G={obtenerItinerarios:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(a,r){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("http://localhost:4000/api/itineraries/".concat(e));case 2:n=t.sent,c=n.data.respuesta,a({type:"OBTENER_ITINERARIOS",payload:c});case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},meGusta:function(e,t){return Object(d.a)(l.a.mark((function a(){var r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,b.a.put("http://localhost:4000/api/itinerary/meGusta/".concat(e),{},{headers:{Authorization:"Bearer "+t}});case 3:return r=a.sent,a.abrupt("return",r.data);case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))},crearComentario:function(e,t,a){return Object(d.a)(l.a.mark((function r(){var n;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,b.a.put("http://localhost:4000/api/itinerary/comentario/".concat(e),Object(u.a)({},t),{headers:{Authorization:"Bearer "+a}});case 3:return n=r.sent,r.abrupt("return",n);case 7:r.prev=7,r.t0=r.catch(0),console.log(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))},borrarComentario:function(e,t){return console.log(e,t),Object(d.a)(l.a.mark((function a(){var r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,b.a.delete("http://localhost:4000/api/itinerary/comentario/".concat(e),{comentario:t});case 3:return r=a.sent,console.log(r.data),a.abrupt("return",r);case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))}},H={borrarComentario:G.borrarComentario},W=Object(i.b)((function(e){return{token:e.usuarios.token}}),H)((function(e){console.log(e);var t=Object(r.useState)(e.comentario),a=Object(f.a)(t,2),n=a[0],c=(a[1],Object(r.useState)()),s=Object(f.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)(!1),u=Object(f.a)(l,2),d=u[0],j=(u[1],Object(r.useState)("Modificar")),b=Object(f.a)(j,2),p=(b[0],b[1],d?i:e.comentario.comentario);return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"comentario",children:[n.usuarioNombre,Object(m.jsx)("div",{className:"usuario2",style:{backgroundImage:'url("'.concat(n.usuarioFoto,'")')}}),d?Object(m.jsx)("textarea",{className:"comentarioInput",rows:"4",cols:"50",onChange:function(e){o(e.target.value)},children:n.comentario}):Object(m.jsx)("p",{style:{color:"white"},children:p})]})})})),z={fetchearActividades:M.obtenerActividades,fetchearMeGusta:G.meGusta,ingresar:p.ingresarLocalStorage,subirComentario:G.crearComentario,traerFotito:p.traerUsuario},Y=Object(i.b)((function(e){return{token:e.usuarios.token,nombre:e.usuarios.nombre,foto:e.usuarios.url_foto,apellido:e.usuarios.apellido,_id:e.usuarios._id}}),z)((function(e){var t=e.itinerario,a=t.foto,n=t.numeral,c=t.titulo,s=t.descripcion,i=t.creador,o=t.precio,u=t.duracion,j=t.meGusta,b=t.comentarios,p=Object(r.useState)(),h=Object(f.a)(p,2),O=h[0],x=h[1],g=Object(r.useState)(!0),v=Object(f.a)(g,2),N=v[0],y=v[1],k=Object(r.useState)(b),w=Object(f.a)(k,2),C=w[0],I=w[1],S=Object(r.useState)(j),E=Object(f.a)(S,2),T=E[0],R=E[1],_=n.map((function(e){return"#"+e+" "})),B=Object(r.useState)({actividades:[]}),F=Object(f.a)(B,2),L=F[0],U=F[1];Object(r.useEffect)((function(){(function(){var t=Object(d.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.fetchearActividades(e.itinerario._id);case 3:a=t.sent,U(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),H("There was a problem, try later");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}),[N]);var M=function(){var t=Object(d.a)(l.a.mark((function t(){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(O){t.next=5;break}return H("I can't be empty"),t.abrupt("return",!1);case 5:if(e.token){t.next=9;break}H("deb\xe9s estar logueado"),t.next=20;break;case 9:return t.prev=9,t.next=12,e.subirComentario(e.itinerario._id,{comentarios:{comentario:O,usuarioId:e._id,usuarioFoto:e.foto,usuarioNombre:e.nombre}},e.token);case 12:(a=t.sent).data.respuesta||console.log("hubo un error "),a.data.success?(r={comentario:O,usuarioId:e._id,usuarioFoto:e.foto,usuarioNombre:e.nombre},I([].concat(Object(D.a)(C),[r])),H("Comment registered successfully")):H("There was a problem, try later"),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(9),H("There was a problem, try later");case 20:case"end":return t.stop()}}),t,null,[[9,17]])})));return function(){return t.apply(this,arguments)}}(),G=C.map((function(t,a){return Object(m.jsx)(W,{id:e._id,comentario:t,itinerarioId:e.itinerario._id},t._id)})),H=function(e,t){A.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:4e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",A.a.stopTimer),e.addEventListener("mouseleave",A.a.resumeTimer)}}).fire({icon:t||"warning",title:e})},z=Object(m.jsxs)("div",{className:"caja",children:[Object(m.jsx)("div",{className:"fotosItinerarios",style:{backgroundImage:'url("/assets/"")'},children:Object(m.jsx)(P,{actividades:L})}),Object(m.jsxs)("div",{className:"g",children:[Object(m.jsx)("h2",{children:"COMMENTS"}),Object(m.jsx)("div",{className:"scroll",children:G}),Object(m.jsx)("input",{text:"text",className:"comentarioInput",placeholder:"Write your comment",onChange:function(e){x(e.target.value)}}),Object(m.jsx)("button",{className:"boton2",onClick:M,children:"Submit"})]})]});return Object(m.jsxs)("section",{className:"sectionMT",children:[Object(m.jsxs)("div",{className:"grande",children:[Object(m.jsxs)("div",{className:"caja",children:[Object(m.jsx)("p",{children:i[0].nombre}),Object(m.jsx)("div",{className:"usuario",style:{backgroundImage:'url("'.concat(i[0].foto,'")')}}),Object(m.jsxs)("div",{className:"g",children:[Object(m.jsx)("div",{className:"heart",style:{backgroundImage:"url(".concat(T.includes(e._id)?"https://i.postimg.cc/HLZ8G6tM/corazon.png":"https://i.postimg.cc/pLvFKhTm/heart.png",")")},onClick:function(){(function(){var t=Object(d.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.token){t.next=5;break}H("Debes estar Logueado para darle Like"),t.next=9;break;case 5:return t.next=7,e.fetchearMeGusta(e.itinerario._id,e.token);case 7:(a=t.sent).success&&R(a.respuesta);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),H("There was a problem, try later");case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}})()()},children:Object(m.jsx)("p",{children:T.length})}),Object(m.jsx)("h2",{children:c}),Object(m.jsxs)("p",{children:[s,Object(m.jsx)("br",{}),_]}),Object(m.jsx)("div",{className:"imagen",style:{backgroundImage:'url("/assets/'.concat(a[0],'")')}}),Object(m.jsx)("div",{className:"imagen2",children:Object(m.jsxs)("p",{children:["Price:","\ud83d\udcb0".repeat(o)," Duration:","\ud83d\udd5c".repeat(u)]})})]})]}),!N&&z]}),Object(m.jsx)("button",{className:"boton",onClick:function(){y(!N)},children:N?"View More":"View Less"})]})})),K={fetchearItinerarios:G.obtenerItinerarios,fetchearCiudades:R.obtenerCiudades,ingresar:p.ingresarLocalStorage},V=Object(i.b)((function(e){return{itinerarios:e.todosItinerarios.itinerarios,ciudades:e.todasCiudades.ciudades,_id:e.usuarios._id}}),K)((function(e){if(Object(r.useEffect)((function(){if(function(){var t=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.fetchearItinerarios(e.match.params.id);case 3:return t.next=5,e.ingresar(localStorage.getItem("token"));case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),A.a.fire({icon:"error",title:"Oops...",text:"We have a problem showing you city. Try later"}),e.history.push("/cities");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()(),!e.ciudades.length)return e.fetchearCiudades()}),[]),!e.ciudades.length)return Object(m.jsx)(_,{});var t=e.ciudades.find((function(t){return t._id===e.match.params.id})),a=e.itinerarios.map((function(t){return Object(m.jsx)(Y,{itinerario:t,id:e._id},t._id)}));if(!t)return A.a.fire({icon:"error",title:"Oops...",text:"We have a problem showing you city. Try later"}),setTimeout((function(){e.history.push("/cities")}),1e3);var n=a.length?a:Object(m.jsx)("section",{className:"sectionMT",children:Object(m.jsxs)("div",{className:"caja g sectionMT",children:[Object(m.jsx)("div",{className:"mensaje",style:{backgroundImage:'url("/assets/monta\xf1a.jpg")'}}),Object(m.jsx)("h2",{children:"There are no itinerarios yet for this city"})]})});return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"home",style:{backgroundImage:'url("'.concat(t.imagen,'")')},children:[Object(m.jsx)(O,{}),Object(m.jsxs)("h2",{className:"h2-infoCity",children:["Welcome to ",t.caption]}),n,Object(m.jsx)("nav",{className:"home-infoCity2",children:Object(m.jsx)(s.b,{className:"boton",to:"/cities",children:Object(m.jsx)("p",{children:"Back to Cities"})})}),Object(m.jsx)(I,{})]})})})),q=a(22),J=a(29),Z=a.n(J),Q={ingresarCuenta:p.ingresarCuenta,registrarUsuario:p.registrarUsuario},X=Object(i.b)(null,Q)((function(e){var t=Object(r.useState)({nombre:"",apellido:"",email:"",password:"",url_foto:"",pais:""}),a=Object(f.a)(t,2),n=a[0],c=a[1],i=function(e){c(Object(u.a)(Object(u.a)({},n),{},Object(q.a)({},e.target.name,e.target.value)))},o=function(e,t){A.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:4e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",A.a.stopTimer),e.addEventListener("mouseleave",A.a.resumeTimer)}}).fire({icon:t||"warning",title:e})},j=function(){var t=Object(d.a)(l.a.mark((function t(a){var r,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={nombre:a.profileObj.givenName,apellido:a.profileObj.familyName,url_foto:a.profileObj.imageUrl,password:a.profileObj.googleId,email:a.profileObj.email,pais:"Argentina",google:!0},t.prev=1,t.next=4,e.registrarUsuario(r);case 4:(n=t.sent).data.success?o("Registered user successfully","success"):o(n.data.respuesta),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),o("We have a problem, please try again later");case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)("section",{className:"formulario-caja",children:[Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("h2",{children:"Create Account!"}),Object(m.jsx)("p",{children:"Please fill the details to Sign Up!"})]}),Object(m.jsxs)("form",{children:[Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsx)("input",{type:"text",name:"nombre",onChange:i,placeholder:"First Name",className:"form-control"})}),Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsx)("input",{type:"text",name:"apellido",onChange:i,placeholder:"Last Name",className:"form-control"})}),Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsx)("input",{type:"email",name:"email",onChange:i,placeholder:"Email",className:"form-control"})}),Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsx)("input",{type:"password",name:"password",onChange:i,placeholder:"Password",className:"form-control"})}),Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsx)("input",{type:"text",name:"url_foto",onChange:i,placeholder:"URL of your picture",className:"form-control"})}),Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsxs)("select",{className:"form-control",name:"pais",onChange:i,children:[Object(m.jsx)("option",{className:"option",children:"Choose your country"}),["Afganist\xe1n","Albania","Alemania","Andorra","Angola","Antigua y Barbuda","Arabia Saudita","Argelia","Argentina","Armenia","Australia","Austria","Azerbaiy\xe1n","Bahamas","Banglad\xe9s","Barbados","Bar\xe9in","B\xe9lgica","Belice","Ben\xedn","Bielorrusia","Birmania","Bolivia","Bosnia y Herzegovina","Botsuana","Brasil","Brun\xe9i","Bulgaria","Burkina Faso","Burundi","But\xe1n","Cabo Verde","Camboya","Camer\xfan","Canad\xe1","Catar","Chad","Chile","China","Chipre","Ciudad del Vaticano","Colombia","Comoras","Corea del Norte","Corea del Sur","Costa de Marfil","Costa Rica","Croacia","Cuba","Dinamarca","Dominica","Ecuador","Egipto","El Salvador","Emiratos \xc1rabes Unidos","Eritrea","Eslovaquia"].map((function(e,t){return Object(m.jsx)("option",{value:e,children:e},t)}))]})})]}),Object(m.jsx)("div",{className:"mb-3 botonSub",children:Object(m.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(){(function(){var t=Object(d.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object.values(n).includes("")){t.next=4;break}o("All fields are required"),t.next=15;break;case 4:return t.prev=4,t.next=7,e.registrarUsuario(n);case 7:(a=t.sent).data.success||(a.data.respuesta[0].message?o(a.data.respuesta[0].message):o(a.data.respuesta)),a.data.success&&o("Registered user successfully","success"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),o("We have a problem, please try again later");case 15:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(){return t.apply(this,arguments)}})()()},children:"Submit"})}),Object(m.jsx)(Z.a,{clientId:"449628523643-i6mlv9530rqnelgmf3gribco7nvsi4vr.apps.googleusercontent.com",className:"botonSub",buttonText:"Create account with Google",onSuccess:j,onFailure:j,cookiePolicy:"single_host_origin"}),",",Object(m.jsx)("div",{className:"mb-3 p-2 botonSub ",children:Object(m.jsxs)("p",{children:["Do you already have an account?",Object(m.jsx)(s.b,{to:"/signIn",children:Object(m.jsx)("span",{className:"btn-primary",children:" Sign In here!"})})]})})]})})),$=function(){return Object(m.jsxs)("div",{className:"home",style:{backgroundImage:'url("/assets/Proyecto2.png")'},children:[Object(m.jsx)(O,{}),Object(m.jsx)(X,{}),Object(m.jsx)(I,{})]})},ee={ingresarCuenta:p.ingresarCuenta,registrarCuenta:p.registrarUsuario},te=Object(i.b)(null,ee)((function(e){var t=Object(r.useState)({email:"",password:""}),a=Object(f.a)(t,2),n=a[0],c=a[1],i=function(e){c(Object(u.a)(Object(u.a)({},n),{},Object(q.a)({},e.target.name,e.target.value)))},o=function(e,t){A.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:4e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",A.a.stopTimer),e.addEventListener("mouseleave",A.a.resumeTimer)}}).fire({icon:t||"warning",title:e})},j=function(){var t=Object(d.a)(l.a.mark((function t(a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={password:a.profileObj.googleId,email:a.profileObj.email,flagGoogle:!0},t.prev=1,t.next=4,e.ingresarCuenta(r);case 4:t.sent.data.success?o("Welcome back!","success"):o("You do not have a registered account with Google"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),o("We have a problem, please try again later");case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)("section",{className:"formulario-caja",children:[Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsx)("h2",{children:"Log in to your account"})}),Object(m.jsxs)("form",{children:[Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsx)("input",{type:"email",name:"email",onChange:i,placeholder:"E-mail",className:"form-control","aria-describedby":"emailHelp"})}),Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsx)("input",{type:"password",name:"password",onChange:i,placeholder:"Password",className:"form-control","aria-describedby":""})})]}),Object(m.jsx)("div",{className:"mb-3 botonSub",children:Object(m.jsx)("button",{to:"/",type:"submit",className:"btn btn-primary",onClick:function(){(function(){var t=Object(d.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object.values(n).includes("")){t.next=4;break}o("All fields are required"),t.next=18;break;case 4:if(n.email.includes("@")){t.next=8;break}o("Enter a valid email"),t.next=18;break;case 8:return t.prev=8,t.next=11,e.ingresarCuenta(n);case 11:(a=t.sent).data.success?o("Welcome back!","success"):a.data.respuesta?o(a.data.respuesta):o("Incorrect username or password"),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(8),o("We have a problem, please try again later");case 18:case"end":return t.stop()}}),t,null,[[8,15]])})));return function(){return t.apply(this,arguments)}})()()},children:"log In"})}),Object(m.jsx)(Z.a,{clientId:"449628523643-i6mlv9530rqnelgmf3gribco7nvsi4vr.apps.googleusercontent.com",buttonText:"Sign in with Google",onSuccess:j,onFailure:j,cookiePolicy:"single_host_origin"}),Object(m.jsx)("div",{className:"mb-3 p-2 botonSub botonSub2 ",children:Object(m.jsxs)("p",{children:["You do not have an account?",Object(m.jsx)(s.b,{to:"/signUp",children:Object(m.jsx)("span",{className:"btn-primary",children:" Sign up here!"})})]})})]})})),ae=function(){return Object(m.jsxs)("div",{className:"home",style:{backgroundImage:'url("/assets/Proyecto2.png")'},children:[Object(m.jsx)(O,{}),Object(m.jsx)(te,{}),Object(m.jsx)(I,{})]})},re={ingresar:p.ingresarLocalStorage},ne=Object(i.b)((function(e){return{token:e.usuarios.token}}),re)((function(e){return Object(r.useEffect)((function(){localStorage.getItem("token")&&e.ingresar(localStorage.getItem("token"))}),[]),Object(m.jsx)(s.a,{children:Object(m.jsxs)(U.d,{children:[Object(m.jsx)(U.b,{exact:!0,path:"https://mytinerary-er.herokuapp.com/",component:E}),!e.token&&Object(m.jsx)(U.b,{path:"/signIn",component:ae}),!e.token&&Object(m.jsx)(U.b,{path:"/signUp",component:$}),Object(m.jsx)(U.b,{path:"/cities",component:L}),Object(m.jsx)(U.b,{path:"/city/:id",component:V}),Object(m.jsx)(U.a,{exact:!0,to:"https://mytinerary-er.herokuapp.com/"})]})})})),ce=a(25),se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{actividades:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OBTENER_ACTIVIDADES":return Object(u.a)(Object(u.a)({},e),{},{actividades:t.payload});default:return e}},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ciudades:[],ciudadFiltrada:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OBTENER_CIUDADES":return Object(u.a)(Object(u.a)({},e),{},{ciudades:t.payload,ciudadFiltrada:t.payload});case"FILTRAR_CIUDADES":var a=e.ciudades.filter((function(e){return e.caption.toLowerCase().startsWith(t.payload)&&e}));return Object(u.a)(Object(u.a)({},e),{},{ciudadFiltrada:a});default:return e}},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{itinerarios:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OBTENER_ITINERARIOS":return Object(u.a)(Object(u.a)({},e),{},{itinerarios:t.payload});default:return e}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{token:null,nombre:null,apellido:null,url_foto:null,_id:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USUARIO":return localStorage.setItem("token",t.payload.token),{token:t.payload.token,nombre:t.payload.nombre,url_foto:t.payload.url_foto,_id:t.payload._id,apellido:t.payload.apellido};case"CERRAR SESION":return localStorage.removeItem("token"),{token:null,nombre:null,url_foto:null,_id:null,apellido:null};default:return e}},ue=Object(ce.b)({todasCiudades:ie,todosItinerarios:oe,usuarios:le,actividades:se}),de=a(51),je=Object(ce.c)(ue,Object(ce.a)(de.a));c.a.render(Object(m.jsx)(i.a,{store:je,children:Object(m.jsx)(ne,{})}),document.getElementById("root"))},58:function(e,t,a){}},[[101,1,2]]]);
//# sourceMappingURL=main.9f1b7143.chunk.js.map